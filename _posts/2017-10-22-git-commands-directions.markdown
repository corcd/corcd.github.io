---
layout:       post
title:        "git çš„ç®€å•ç”¨æ³•"
subtitle:     " git å‘½ä»¤ç”¨æ³•ï¼Œå¿«é€Ÿå…¥é—¨ git ç®€å•åº”ç”¨"
date:         2017-10-23
author:       "corcd"
header-img:   "img/post-bg-git.jpg"
header-mask:  0.3
catalog:      true
tags:
    - æŠ€æœ¯
    - git
---

> Git çœŸæ˜¯ä¸ªå¥½ä¸œè¥¿

# å‰è¨€

ç›¸ä¿¡æ¯ä¸€ä¸ªç¬¬ä¸€æ¬¡æ¥è§¦ git çš„å°ä¼™ä¼´æ¥è¯´ï¼Œgit ç»™çš„ç¬¬ä¸€å°è±¡ä½“éªŒå¯èƒ½å¹¶ä¸æ˜¯å¤ªå¥½ï¼Œæ¯•ç«Ÿé»‘ä¹ä¹çš„å‘½ä»¤è¡Œçª—å£ã€ä¸€æ¡æ¡æŠ½è±¡çš„ command è¯­å¥ï¼Œæ€ä¹ˆæ¥è¯´ä¹Ÿæ²¡æœ‰æ¡Œé¢å›¾å½¢ç•Œé¢æ¥çš„ç›´è§‚æ˜äº†ã€‚ä¸è¿‡å‘¢ï¼Œåœ¨æ·±å…¥æ¥è§¦ git çš„ç”¨æ³•ä¹‹åï¼Œgit é‚£ç®€æ´çš„æ ¼å¼è€Œåˆå¼ºå¤§çš„åŠŸèƒ½ï¼Œä¼šè®©å¤§å®¶çœŸçœŸåˆ‡åˆ‡åœ°é¢†ç•¥åˆ° git ç‹¬å…·çš„ç‰¹æ®Šé­…åŠ›ï¼Œä»¥åŠæ— ä¸ä¼¦æ¯”çš„æ“ä½œâ€œçˆ½æ„Ÿâ€ï¼Œ2333ğŸ˜‚

-------

# è®©æˆ‘ä»¬å¼€å§‹å§

åºŸè¯ä¸å¤šè¯´å•¦ï¼Œç›´æ¥è¿›å…¥æ­£é¢˜

### 1.1 Git åˆå§‹åŒ–é…ç½® 

- **é…ç½®ä½¿ç”¨ git ä»“åº“çš„äººå‘˜å§“å**

    `$ git config --global user.name "Your Name Comes Here"`

- **é…ç½®ä½¿ç”¨ git ä»“åº“çš„äººå‘˜ email** 

    `$ git config --global user.email you@yourdomain.example.com` 

### 1.2 Git æœ¬åœ°ä»“åº“åˆå§‹åŒ–

- **åœ¨è¿›å…¥éœ€è¦çš„ç›®å½•ä¹‹åï¼Œåˆå§‹åŒ–æœ¬åœ° git ä»“åº“**

    `$ git init`

### 1.3 Git åˆ†æ”¯æ“ä½œ

#### Git checkout

- **åˆ›å»ºä¸€ä¸ªæ–°åˆ†æ”¯ï¼Œå¹¶åˆ‡æ¢åˆ°è¯¥åˆ†æ”¯ä¸Š**

    `$ git checkout â€“b [new_branch_name]`

- **åˆ‡æ¢åˆ°å·²ç»å»ºç«‹çš„æœ¬åœ°åˆ†æ”¯ local_branch ä¸Š** 

    `$ git checkout [local_branch]` 

- **åˆ‡æ¢åˆ°æœåŠ¡å™¨ä¸Šçš„åˆ†æ”¯ remote_branch** 

    `$ git checkout [remote_branch]`  
    
    > æç¤ºï¼šè¿œç¨‹åˆ†æ”¯ [remote_branch] å¯ä»¥é€šè¿‡ `$ git branch â€“r` åˆ—å‡º

- **åˆ‡æ¢åˆ°æ ‡è¯† id ä¸º commit id çš„åˆ†æ”¯ä¸Š** 

    `$ git checkout [commit_id]` 

#### Git branch

- **åˆ›å»ºä¸€ä¸ªåˆ†æ”¯**

    `$ git branch [branch_name]`

    *(è™½ç„¶åˆ›å»ºäº†åˆ†æ”¯ï¼Œä½†æ˜¯ä¸ä¼šå°†å½“å‰å·¥ä½œåˆ†æ”¯åˆ‡æ¢åˆ°æ–°åˆ›å»ºçš„åˆ†æ”¯ä¸Šï¼Œå› æ­¤ï¼Œè¿˜éœ€è¦å‘½ä»¤`$ git checkout [branch_name]` æ¥åˆ‡æ¢)* 

    > åŒºåˆ«ï¼šå¦‚æœä½¿ç”¨`$ git checout â€“b [branch_name]` ï¼Œä¸ä»…åˆ›å»ºäº†åˆ†æ”¯ï¼Œè¿˜å°†å½“å‰å·¥ä½œåˆ†æ”¯åˆ‡æ¢åˆ°äº†è¯¥åˆ†æ”¯ä¸Š

- **åˆ é™¤åˆ†æ”¯** 

    `$ git branch â€“D [branch_name]` 

    > æ³¨æ„ï¼š å¼ºåˆ¶åˆ é™¤äº†æ­¤åˆ†æ”¯ï¼Œè€Œä¸”åˆ é™¤åï¼Œå‘ç”Ÿåœ¨è¯¥åˆ†æ”¯çš„æ‰€æœ‰å˜åŒ–éƒ½æ— æ³•æ¢å¤

### 1.4 Git add 

- **å¯ä»¥å°†å½“å‰å·¥ä½œç›®å½•ä¸­æ›´æ”¹æˆ–è€…æ–°å¢çš„æ–‡ä»¶åŠ å…¥åˆ° git çš„ç´¢å¼•ä¸­ï¼Œå³ä¸ºè®°å…¥äº†ç‰ˆæœ¬å†å²ä¸­ï¼Œè¿™ä¹Ÿæ˜¯æäº¤ä¹‹å‰æ‰€å¿…é¡»æ‰§è¡Œçš„ä¸€æ­¥**

- **å¯ä»¥é€’å½’æ·»åŠ ï¼Œå³å¦‚æœåé¢è·Ÿçš„æ˜¯ä¸€ä¸ªç›®å½•ä½œä¸ºå‚æ•°ï¼Œåˆ™ä¼šé€’å½’æ·»åŠ æ•´ä¸ªç›®å½•ä¸­çš„æ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š** 

    `$ git add [dir]            #æ·»åŠ [dir]è¿™ä¸ªç›®å½•ï¼Œç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶éƒ½è¢«åŠ å…¥` 

    `$ git add [file1] [file2]  #æ·»åŠ [file1]ï¼Œ[file2]æ–‡ä»¶` 

    `$ git add .                #æ·»åŠ å½“å‰ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œå­ç›®å½•`

### 1.5 Git rm

- **å½“ç„¶ï¼Œæœ‰å¢ï¼ˆaddï¼‰,ç†æ‰€åº”å½“ä¹Ÿä¼šæœ‰å¯¹åº”çš„å‡ï¼ˆrmï¼‰æ“ä½œï¼Œå¯ä»¥ä»å½“å‰çš„å·¥ä½œç›®å½•ä¸­å’Œç´¢å¼•ä¸­åˆ é™¤æ–‡ä»¶**

- **åŒæ ·å¯ä»¥é€’å½’åˆ é™¤ï¼Œå³å¦‚æœåé¢è·Ÿçš„æ˜¯ä¸€ä¸ªç›®å½•åšä¸ºå‚æ•°ï¼Œåˆ™ä¼šé€’å½’åˆ é™¤æ•´ä¸ªç›®å½•ä¸­çš„æ‰€æœ‰å­ç›®å½•å’Œæ–‡ä»¶ï¼Œä¾‹å¦‚ï¼š** 

    `$ git rm â€“r *           #è¿›å…¥æŸä¸ªç›®å½•ä¸­ï¼Œæ‰§è¡Œæ­¤è¯­å¥ï¼Œä¼šåˆ é™¤è¯¥ç›®å½•ä¸‹çš„æ‰€æœ‰æ–‡ä»¶å’Œå­ç›®å½•` 

    `$ git rm [file]         #åˆ é™¤æ–‡ä»¶[file]ï¼ŒåŒ…å«æœ¬åœ°ç›®å½•å’Œindexä¸­çš„æ­¤æ–‡ä»¶è®°å½•`

    `$ git rm --ached [file] #åˆ é™¤æ–‡ä»¶[file]`
    
    > æç¤ºï¼šåŠ å…¥--ached å‚æ•°åï¼Œä¸ä¼šåˆ é™¤æœ¬åœ°ç›®å½•æ–‡ä»¶ï¼Œåªåˆ é™¤ index ä¸­çš„æ–‡ä»¶è®°å½•ï¼›å°†å·²ç» git add çš„æ–‡ä»¶ remove åˆ° cache ä¸­,è¿™æ · commit çš„æ—¶å€™ä¸ä¼šæäº¤è¿™ä¸ªæ–‡ä»¶, é€‚ç”¨äºä¸€ä¸‹å­æ·»åŠ äº†å¾ˆå¤šæ–‡ä»¶, å´åˆæƒ³æ’é™¤å…¶ä¸­ä¸ªåˆ«å‡ ä¸ªæ–‡ä»¶çš„æƒ…å†µ

### 1.6 Git ä»£ç æ“ä½œ 

#### Git merge

- **å°†æœåŠ¡å™¨ä¸Šä¸‹è½½çš„ä»£ç å’Œæœ¬åœ°ä»£ç åˆå¹¶ï¼Œæˆ–è€…è¿›è¡Œåˆ†æ”¯åˆå¹¶** 

    `$ git merge [branch_1] [branch_2] #åˆå¹¶ä¸¤ä¸ªåˆ†æ”¯`

#### Git diff 

- **æŠŠæœ¬åœ°çš„ä»£ç å’Œ index ä¸­çš„ä»£ç è¿›è¡Œæ¯”è¾ƒï¼Œæˆ–è€…æŠŠ index ä¸­çš„ä»£ç å’Œæœ¬åœ°ä»“åº“ä¸­çš„ä»£ç è¿›è¡Œæ¯”è¾ƒ**

    `$ git diff           #æ¯”è¾ƒå·¥ä½œç›®å½•å’Œ Index ä¸­çš„ä»£ç ` 

    `$ git diff --cached  #æ¯”è¾ƒ index å’Œæœ¬åœ°ä»“åº“ä¸­çš„ä»£ç ` 

### 1.7 Git çŠ¶æ€æŸ¥çœ‹ 

- **æŸ¥çœ‹ç‰ˆæœ¬åº“çš„çŠ¶æ€**

    `$ git status`

    > æç¤ºï¼šå¯ä»¥å¾—çŸ¥å“ªäº›æ–‡ä»¶å‘ç”Ÿäº†å˜åŒ–ï¼Œå“ªäº›æ–‡ä»¶è¿˜æ²¡æœ‰æ·»åŠ åˆ° git åº“ä¸­ç­‰ç­‰ï¼Œå»ºè®®æ¯æ¬¡ commit å‰éƒ½è¦é€šè¿‡è¯¥å‘½ä»¤ç¡®è®¤åº“çŠ¶æ€

- **æŸ¥çœ‹å†å²æ—¥å¿—ï¼ŒåŒ…å«æ¯æ¬¡çš„ç‰ˆæœ¬å˜åŒ–ï¼Œæ¯æ¬¡ç‰ˆæœ¬å˜åŒ–å¯¹åº”ä¸€ä¸ª commit id**

    `$ git log -1`

    > æç¤ºï¼š-1çš„æ„æ€æ˜¯åªæ˜¾ç¤ºä¸€ä¸ªcommitï¼Œå¦‚æœæƒ³æ˜¾ç¤º5ä¸ªï¼Œå°±-5ã€‚ä¸æŒ‡å®šçš„è¯ï¼Œgit logä¼šä»è¯¥commitä¸€ç›´å¾€åæ˜¾ç¤º

    `$ git log --stat â€“summary  #æ˜¾ç¤ºæ¯æ¬¡ç‰ˆæœ¬çš„è¯¦ç»†å˜åŒ–`

### 1.8 Git commit 

- **æäº¤å½“å‰å·¥ä½œç›®å½•çš„ä¿®æ”¹å†…å®¹**

- **æ¯ä¸€æ¬¡æäº¤ï¼Œgit å°±ä¼šä¸ºå…¨å±€ä»£ç å»ºç«‹ä¸€ä¸ªå”¯ä¸€çš„ commit æ ‡è¯†ä»£ç ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡ git reset å‘½ä»¤æ¢å¤åˆ°ä»»æ„ä¸€æ¬¡æäº¤æ—¶çš„ä»£ç **

    `$ git commit -a â€“m â€œ[message]â€`

    > æç¤ºï¼šï¼Œ-m å‚æ•°å¯ä»¥æŒ‡å®šå½“å‰æ“ä½œçš„æ³¨é‡Šä¿¡æ¯ï¼Œä¿¡æ¯ä¸èƒ½ä¸ºç©ºï¼›git commit è¿˜æœ‰ä¸€ä¸ª -a çš„å‚æ•°ï¼Œå¯ä»¥å°†é‚£äº›æ²¡æœ‰é€šè¿‡ git add æ ‡è¯†çš„å˜åŒ–ä¸€å¹¶å¼ºè¡Œæäº¤ï¼Œä½†æ˜¯ä¸å»ºè®®ä½¿ç”¨è¿™ç§æ–¹å¼

### 1.9 Git è¿œç¨‹æœåŠ¡å™¨æ“ä½œ

#### Git clone

- **å…‹éš†æœåŠ¡å™¨çš„ä»“åº“çš„ä»£ç åˆ°æœ¬åœ°å»ºç«‹çš„ç›®å½•ä¸­** 

    `$ git clone [url]`

    *(é€šè¿‡ git clone è·å–çš„è¿œç«¯ git åº“ï¼ŒåªåŒ…å«äº†è¿œç«¯ git åº“çš„å½“å‰å·¥ä½œåˆ†æ”¯ã€‚å¦‚æœæƒ³è·å–å…¶å®ƒåˆ†æ”¯ä¿¡æ¯ï¼Œéœ€è¦ä½¿ç”¨ `$ git branch â€“r` æ¥æŸ¥çœ‹ï¼Œ å¦‚æœéœ€è¦å°†è¿œç¨‹çš„å…¶å®ƒåˆ†æ”¯ä»£ç ä¹Ÿè·å–è¿‡æ¥ï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ `$ git checkout -b [local_branch] [remote_branch]`ï¼Œå…¶ä¸­ï¼Œè¿œç«¯åˆ†æ”¯å  [remote_branch] ä¸º `$ git branch â€“r ` æ‰€åˆ—å‡ºçš„åˆ†æ”¯åï¼Œ ä¸€èˆ¬æ˜¯è¯¸å¦‚ `origin/branch_name` çš„æ ·å­ï¼›å¦‚æœæœ¬åœ°åˆ†æ”¯å [local_branch] å·²ç»å­˜åœ¨ï¼Œ åˆ™ä¸éœ€è¦ `-b` å‚æ•°)*

    > æ³¨æ„ï¼šé€šè¿‡ git clone è·å–è¿œç«¯ git åº“åï¼Œ.git/config ä¸­çš„å¼€å‘è€…ä¿¡æ¯ä¸ä¼šè¢«ä¸€èµ· clone è¿‡æ¥ã€‚ä»ç„¶éœ€è¦ä¸ºæœ¬åœ°åº“çš„ .git/config æ–‡ä»¶æ·»åŠ å¼€å‘è€…ä¿¡æ¯ã€‚æ­¤å¤–ï¼Œå¼€å‘è€…è¿˜éœ€è¦è‡ªå·±æ·»åŠ  .gitignore æ–‡ä»¶

#### Git fetch 

- **ä»æœåŠ¡å™¨çš„ä»“åº“ä¸­ä¸‹è½½æœ€æ–°ä»£ç ** 

    `$ git fetch [url]`

    > åŒºåˆ«ï¼šç›¸æ¯” git pull æ›´å®‰å…¨äº›ï¼Œç›¸å½“äºä»è¿œç¨‹è·å–æœ€æ–°ç‰ˆæœ¬åˆ°æœ¬åœ°ï¼Œä¸ä¼šè‡ªåŠ¨ merge 

#### Git remote 

- **æŸ¥çœ‹å½“å‰çš„è¿œç¨‹ä»“åº“**

    `$ git remote     #ä¸å¸¦å‚æ•°ï¼Œåˆ—å‡ºå·²ç»å­˜åœ¨çš„è¿œç¨‹åˆ†æ”¯`

    `$ git remote -v  #å‡ºè¯¦ç»†ä¿¡æ¯ï¼Œåœ¨æ¯ä¸€ä¸ªåå­—åé¢åˆ—å‡ºå…¶è¿œç¨‹url`

- **æ·»åŠ è¿œç¨‹ä»“åº“**

    `$ git remote add [shortname] [url]`

    > æç¤ºï¼šè¦æ·»åŠ ä¸€ä¸ªç›®æ ‡åœ°å€ä¸º [url] çš„è¿œç¨‹ä»“åº“,å¯ä»¥æŒ‡å®šä¸€ä¸ªç®€å•çš„ [shortname] ,ä»¥ä¾¿å°†æ¥å¼•ç”¨


#### Git pull 

- **ä»æœåŠ¡å™¨çš„ä»“åº“ä¸­è·å–ä»£ç ï¼Œå’Œæœ¬åœ°ä»£ç åˆå¹¶ï¼Œç­‰åŒäºï¼š git fetch + git merge** 

- **ä»å…¶å®ƒçš„ç‰ˆæœ¬åº“ï¼ˆæ—¢å¯ä»¥æ˜¯è¿œç¨‹çš„ä¹Ÿå¯ä»¥æ˜¯æœ¬åœ°çš„ï¼‰å°†ä»£ç æ›´æ–°åˆ°æœ¬åœ°ï¼Œä¾‹å¦‚ï¼š`$ git pull origin master` å°±æ˜¯å°† origin è¿™ä¸ªç‰ˆæœ¬åº“çš„ä»£ç æ›´æ–°åˆ°æœ¬åœ°çš„ master ä¸»åˆ†æ”¯** 

    `$ git pull username@ipaddr:[remote_repository] [remote_branch] [local_branch]`

    *(è¿™æ¡å‘½ä»¤å°†ä»è¿œç«¯ä»“åº“ [remote_repository] ä¸­çš„è¿œç«¯åˆ†æ”¯å [remote_branch] è·å–åˆ°æœ¬åœ° git åº“çš„ä¸€ä¸ªæœ¬åœ°åˆ†æ”¯ä¸­ã€‚å…¶ä¸­ï¼Œå¦‚æœä¸å†™æœ¬åœ°åˆ†æ”¯å [local_branch]ï¼Œåˆ™é»˜è®¤ pull åˆ°æœ¬åœ°å½“å‰åˆ†æ”¯)* 

    > æ³¨æ„ï¼šgit pull ä¹Ÿå¯ä»¥ç”¨æ¥åˆå¹¶åˆ†æ”¯ã€‚ å’Œ git merge çš„ä½œç”¨ç›¸åŒã€‚ å› æ­¤ï¼Œå¦‚æœä½ çš„æœ¬åœ°åˆ†æ”¯å·²ç»æœ‰å†…å®¹ï¼Œåˆ™ git pull ä¼šåˆå¹¶è¿™äº›æ–‡ä»¶ï¼Œå¦‚æœæœ‰å†²çªä¼šæŠ¥è­¦

#### Git push

- **å°†æœ¬åœ° commit æäº¤çš„ä»£ç æ›´æ–°åˆ°è¿œç¨‹ä»“åº“çš„ [remote_branch] åˆ†æ”¯ä¸­**

    `$ git push origin [remote_branch]`  

    > åŒºåˆ«ï¼šgit push å’Œ git pull æ­£å¥½æƒ³åï¼Œæ˜¯å°†æœ¬åœ°æŸä¸ªåˆ†æ”¯çš„å†…å®¹æäº¤åˆ°è¿œç«¯æŸä¸ªåˆ†æ”¯ä¸Šã€‚ç”¨æ³•ï¼š`$ git pushusername@ipaddr:[remote_repository] [local_branch] [remote_branch]`ï¼Œè¿™æ¡å‘½ä»¤å°†æœ¬åœ° git åº“çš„ä¸€ä¸ªæœ¬åœ°åˆ†æ”¯ push åˆ°è¿œç«¯ git åº“çš„è¿œç«¯åˆ†æ”¯å [remote_branch] ä¸­

    > æ³¨æ„ï¼šgit push å¥½åƒä¸ä¼šè‡ªåŠ¨åˆå¹¶æ–‡ä»¶ã€‚å› æ­¤ï¼Œå¦‚æœ git push æ—¶ï¼Œå‘ç”Ÿäº†å†²çªï¼Œå°±ä¼šè¢«å push çš„æ–‡ä»¶å†…å®¹å¼ºè¡Œè¦†ç›–ï¼Œè€Œä¸”æ²¡æœ‰ä»€ä¹ˆæç¤ºã€‚ è¿™åœ¨åˆä½œå¼€å‘æ—¶æ˜¯å¾ˆå±é™©çš„äº‹æƒ…


-------

# å‚è€ƒæ–‡æ¡£


1. [Git ä½¿ç”¨è¯¦ç»†ä»‹ç»](http://blog.csdn.net/gemmem/article/details/7290125)

2. [git å‘½ä»¤ä¹‹ git remote çš„ç”¨æ³•](http://blog.csdn.net/wangjia55/article/details/8802490)